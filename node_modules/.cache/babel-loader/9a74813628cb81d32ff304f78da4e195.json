{"ast":null,"code":"import { AllPosts } from '../services/PostService';\nimport { LoginService } from '../services/AuthService';\nexport const getAllPosts = (credentials, history) => {\n  return dispatch => {\n    LoginService(credentials, history).then(res => {\n      console.log(res);\n\n      if (res.token !== null) {\n        localStorage.setItem(\"user\", 'Bearer' + res.token);\n        dispatch({\n          type: 'LOGIN_SUCCESS'\n        });\n        history.push(\"/\");\n      } else {\n        dispatch({\n          type: 'LOGIN_ERROR',\n          res\n        });\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/var/www/html/socialsharing/src/store/actions/PostAction.js"],"names":["AllPosts","LoginService","getAllPosts","credentials","history","dispatch","then","res","console","log","token","localStorage","setItem","type","push"],"mappings":"AAAA,SAASA,QAAT,QAAyB,yBAAzB;AACA,SAASC,YAAT,QAA6B,yBAA7B;AAGA,OAAO,MAAMC,WAAW,GAAG,CAACC,WAAD,EAAcC,OAAd,KAA0B;AACpD,SAAQC,QAAD,IAAc;AACpBJ,IAAAA,YAAY,CAACE,WAAD,EAAcC,OAAd,CAAZ,CAAmCE,IAAnC,CAAwCC,GAAG,IAAI;AAC9CC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AAEA,UAAGA,GAAG,CAACG,KAAJ,KAAc,IAAjB,EAAsB;AACrBC,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6B,WAASL,GAAG,CAACG,KAA1C;AACAL,QAAAA,QAAQ,CAAC;AAACQ,UAAAA,IAAI,EAAE;AAAP,SAAD,CAAR;AAEaT,QAAAA,OAAO,CAACU,IAAR,CAAa,GAAb;AACb,OALD,MAKO;AACNT,QAAAA,QAAQ,CAAC;AAACQ,UAAAA,IAAI,EAAC,aAAN;AAAqBN,UAAAA;AAArB,SAAD,CAAR;AACA;AACD,KAXD;AAeA,GAhBD;AAiBA,CAlBM","sourcesContent":["import { AllPosts } from '../services/PostService';\nimport { LoginService } from '../services/AuthService';\n\n\nexport const getAllPosts = (credentials, history) => {\n\treturn (dispatch) => {\n\t\tLoginService(credentials, history).then(res => {\n\t\t\tconsole.log(res);\n\n\t\t\tif(res.token !== null){\n\t\t\t\tlocalStorage.setItem(\"user\", 'Bearer'+res.token);\n\t\t\t\tdispatch({type: 'LOGIN_SUCCESS'});\n\t\t\t\t\n\t                history.push(\"/\");     \n\t\t\t} else {\n\t\t\t\tdispatch({type:'LOGIN_ERROR', res});\n\t\t\t}\n\t\t}\n\n\t\t);\n\t\t\n\t}\n}"]},"metadata":{},"sourceType":"module"}