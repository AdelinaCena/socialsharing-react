{"ast":null,"code":"var _jsxFileName = \"/var/www/html/socialsharing/src/store/actions/AuthAction.js\";\nimport { SignUpService } from '../services/AuthService';\nimport { LoginService } from '../services/AuthService';\nimport { Route, Redirect } from 'react-router-dom';\nexport const signUp = credentials => {\n  return dispatch => {\n    if (credentials.password.length < 6) {\n      return dispatch({\n        type: 'SHORT_PASSWORD'\n      });\n    }\n\n    SignUpService(credentials).then(res => {\n      console.log(res);\n\n      if (res.hasOwnProperty('success') && res.success) {\n        /*#__PURE__*/\n        React.createElement(Redirect, {\n          to: {\n            pathname: '/login'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 15,\n            columnNumber: 5\n          }\n        });\n        dispatch({\n          type: 'SIGNUP_SUCCESS'\n        });\n      } else {\n        dispatch({\n          type: 'SIGNUP_ERROR',\n          res\n        });\n      }\n    }).catch(error => {\n      console.log(error);\n      dispatch({\n        type: 'CODE_ERROR',\n        error\n      });\n    });\n  };\n};\nexport const loginUser = (credentials, history) => {\n  return dispatch => {\n    if (credentials.password.length < 6) {\n      return dispatch({\n        type: 'SHORT_PASSWORD'\n      });\n    }\n\n    LoginService(credentials, history).then(res => {\n      console.log(res);\n\n      if (res.hasOwnProperty('success') && res.success) {\n        localStorage.setItem(\"user\", 'Bearer ' + res.token);\n        localStorage.setItem(\"user_id\", res.user_id);\n        dispatch({\n          type: 'LOGIN_SUCCESS'\n        });\n        history.push(\"/\");\n      } else {\n        dispatch({\n          type: 'LOGIN_ERROR',\n          res\n        });\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/var/www/html/socialsharing/src/store/actions/AuthAction.js"],"names":["SignUpService","LoginService","Route","Redirect","signUp","credentials","dispatch","password","length","type","then","res","console","log","hasOwnProperty","success","pathname","catch","error","loginUser","history","localStorage","setItem","token","user_id","push"],"mappings":";AAAA,SAASA,aAAT,QAA8B,yBAA9B;AACA,SAASC,YAAT,QAA6B,yBAA7B;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,kBAAhC;AAEA,OAAO,MAAMC,MAAM,GAAIC,WAAD,IAAiB;AACtC,SAAQC,QAAD,IAAc;AACpB,QAAID,WAAW,CAACE,QAAZ,CAAqBC,MAArB,GAA8B,CAAlC,EAAqC;AACpC,aAAOF,QAAQ,CAAC;AAACG,QAAAA,IAAI,EAAE;AAAP,OAAD,CAAf;AACA;;AAEDT,IAAAA,aAAa,CAACK,WAAD,CAAb,CAA2BK,IAA3B,CAAgCC,GAAG,IAAI;AACtCC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AAEA,UAAGA,GAAG,CAACG,cAAJ,CAAmB,SAAnB,KAAiCH,GAAG,CAACI,OAAxC,EAAgD;AAC/C;AAAA,4BAAC,QAAD;AAAU,UAAA,EAAE,EAAE;AAACC,YAAAA,QAAQ,EAAE;AAAX,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACAV,QAAAA,QAAQ,CAAC;AAACG,UAAAA,IAAI,EAAE;AAAP,SAAD,CAAR;AACA,OAHD,MAGO;AACNH,QAAAA,QAAQ,CAAC;AAACG,UAAAA,IAAI,EAAC,cAAN;AAAsBE,UAAAA;AAAtB,SAAD,CAAR;AACA;AACD,KATD,EAWEM,KAXF,CAWQC,KAAK,IAAI;AAChBN,MAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;AACAZ,MAAAA,QAAQ,CAAC;AAACG,QAAAA,IAAI,EAAC,YAAN;AAAoBS,QAAAA;AAApB,OAAD,CAAR;AACA,KAdD;AAgBA,GArBD;AAsBA,CAvBM;AA0BP,OAAO,MAAMC,SAAS,GAAG,CAACd,WAAD,EAAce,OAAd,KAA0B;AAClD,SAAQd,QAAD,IAAc;AACpB,QAAID,WAAW,CAACE,QAAZ,CAAqBC,MAArB,GAA8B,CAAlC,EAAqC;AAEpC,aAAOF,QAAQ,CAAC;AAACG,QAAAA,IAAI,EAAE;AAAP,OAAD,CAAf;AACA;;AAEDR,IAAAA,YAAY,CAACI,WAAD,EAAce,OAAd,CAAZ,CAAmCV,IAAnC,CAAwCC,GAAG,IAAI;AAC9CC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AAEA,UAAGA,GAAG,CAACG,cAAJ,CAAmB,SAAnB,KAAiCH,GAAG,CAACI,OAAxC,EAAgD;AAC/CM,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6B,YAAYX,GAAG,CAACY,KAA7C;AACAF,QAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCX,GAAG,CAACa,OAApC;AACAlB,QAAAA,QAAQ,CAAC;AAACG,UAAAA,IAAI,EAAE;AAAP,SAAD,CAAR;AAEaW,QAAAA,OAAO,CAACK,IAAR,CAAa,GAAb;AACb,OAND,MAMO;AACNnB,QAAAA,QAAQ,CAAC;AAACG,UAAAA,IAAI,EAAC,aAAN;AAAqBE,UAAAA;AAArB,SAAD,CAAR;AACA;AACD,KAZD;AAgBA,GAtBD;AAuBA,CAxBM","sourcesContent":["import { SignUpService } from '../services/AuthService';\nimport { LoginService } from '../services/AuthService';\nimport { Route, Redirect } from 'react-router-dom';\n\nexport const signUp = (credentials) => {\n\treturn (dispatch) => {\n\t\tif (credentials.password.length < 6) {\n\t\t\treturn dispatch({type: 'SHORT_PASSWORD'});\n\t\t}\n\n\t\tSignUpService(credentials).then(res => {\n\t\t\tconsole.log(res);\n\n\t\t\tif(res.hasOwnProperty('success') && res.success){\n\t\t\t\t<Redirect to={{pathname: '/login' }} />\n\t\t\t\tdispatch({type: 'SIGNUP_SUCCESS'});\n\t\t\t} else {\n\t\t\t\tdispatch({type:'SIGNUP_ERROR', res});\n\t\t\t}\n\t\t}\n\n\t\t).catch(error => {\n\t\t\tconsole.log(error)\n\t\t\tdispatch({type:'CODE_ERROR', error})\n\t\t});\n\t\t\n\t}\n}\n\n\nexport const loginUser = (credentials, history) => {\n\treturn (dispatch) => {\n\t\tif (credentials.password.length < 6) {\n\n\t\t\treturn dispatch({type: 'SHORT_PASSWORD'});\n\t\t}\n\n\t\tLoginService(credentials, history).then(res => {\n\t\t\tconsole.log(res);\n\n\t\t\tif(res.hasOwnProperty('success') && res.success){\n\t\t\t\tlocalStorage.setItem(\"user\", 'Bearer ' + res.token);\n\t\t\t\tlocalStorage.setItem(\"user_id\", res.user_id);\n\t\t\t\tdispatch({type: 'LOGIN_SUCCESS'});\n\t\t\t\t\n\t                history.push(\"/\");     \n\t\t\t} else {\n\t\t\t\tdispatch({type:'LOGIN_ERROR', res});\n\t\t\t}\n\t\t}\n\n\t\t);\n\t\t\n\t}\n}"]},"metadata":{},"sourceType":"module"}