{"ast":null,"code":"var _jsxFileName = \"/var/www/html/socialsharing/src/pages/post/create.js\";\nimport React, { Component } from 'react';\nexport default class FileUploadComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      image: ''\n    };\n    this.onFormSubmit = this.onFormSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.fileUpload = this.fileUpload.bind(this);\n  }\n\n  onFormSubmit(e) {\n    e.preventDefault();\n    this.fileUpload(this.state.image);\n  }\n\n  onChange(e) {\n    let files = e.target.files || e.dataTransfer.files;\n    if (!files.length) return;\n    this.createImage(files[0]);\n  }\n\n  createImage(file) {\n    let reader = new FileReader();\n\n    reader.onload = e => {\n      this.setState({\n        image: e.target.result\n      });\n    };\n\n    reader.readAsDataURL(file);\n  }\n\n  fileUpload(image) {\n    const url = 'http://localhost:8000/api/fileupload';\n    const formData = {\n      file: this.state.image\n    };\n    return post(url, formData).then(response => console.log(response));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onFormSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }, \"React js Laravel File Upload Tutorial\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, \"Upload\"));\n  }\n\n}","map":{"version":3,"sources":["/var/www/html/socialsharing/src/pages/post/create.js"],"names":["React","Component","FileUploadComponent","constructor","props","state","image","onFormSubmit","bind","onChange","fileUpload","e","preventDefault","files","target","dataTransfer","length","createImage","file","reader","FileReader","onload","setState","result","readAsDataURL","url","formData","post","then","response","console","log","render"],"mappings":";AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,eAAe,MAAMC,mBAAN,SAAkCD,SAAlC,CACf;AACGE,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAChB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAY;AACVC,MAAAA,KAAK,EAAE;AADG,KAAZ;AAGA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKE,UAAL,GAAkB,KAAKA,UAAL,CAAgBF,IAAhB,CAAqB,IAArB,CAAlB;AACD;;AACDD,EAAAA,YAAY,CAACI,CAAD,EAAG;AACbA,IAAAA,CAAC,CAACC,cAAF;AACA,SAAKF,UAAL,CAAgB,KAAKL,KAAL,CAAWC,KAA3B;AACD;;AACDG,EAAAA,QAAQ,CAACE,CAAD,EAAI;AACV,QAAIE,KAAK,GAAGF,CAAC,CAACG,MAAF,CAASD,KAAT,IAAkBF,CAAC,CAACI,YAAF,CAAeF,KAA7C;AACA,QAAI,CAACA,KAAK,CAACG,MAAX,EACM;AACN,SAAKC,WAAL,CAAiBJ,KAAK,CAAC,CAAD,CAAtB;AACD;;AACDI,EAAAA,WAAW,CAACC,IAAD,EAAO;AAChB,QAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,IAAAA,MAAM,CAACE,MAAP,GAAiBV,CAAD,IAAO;AACrB,WAAKW,QAAL,CAAc;AACZhB,QAAAA,KAAK,EAAEK,CAAC,CAACG,MAAF,CAASS;AADJ,OAAd;AAGD,KAJD;;AAKAJ,IAAAA,MAAM,CAACK,aAAP,CAAqBN,IAArB;AACD;;AACDR,EAAAA,UAAU,CAACJ,KAAD,EAAO;AACf,UAAMmB,GAAG,GAAG,sCAAZ;AACA,UAAMC,QAAQ,GAAG;AAACR,MAAAA,IAAI,EAAE,KAAKb,KAAL,CAAWC;AAAlB,KAAjB;AACA,WAAQqB,IAAI,CAACF,GAAD,EAAMC,QAAN,CAAJ,CACCE,IADD,CACMC,QAAQ,IAAIC,OAAO,CAACC,GAAR,CAAYF,QAAZ,CADlB,CAAR;AAED;;AAEFG,EAAAA,MAAM,GACN;AACG,wBAEG;AAAM,MAAA,QAAQ,EAAE,KAAKzB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CADC,eAED;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAoB,MAAA,QAAQ,EAAE,KAAKE,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFC,eAGD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHC,CAFH;AAQF;;AA9CJ","sourcesContent":["\r\nimport React, { Component } from 'react';\r\n\r\nexport default class FileUploadComponent extends Component\r\n{\r\n   constructor(props) {\r\n      super(props);\r\n      this.state ={\r\n        image: ''\r\n      }\r\n      this.onFormSubmit = this.onFormSubmit.bind(this)\r\n      this.onChange = this.onChange.bind(this)\r\n      this.fileUpload = this.fileUpload.bind(this)\r\n    }\r\n    onFormSubmit(e){\r\n      e.preventDefault() \r\n      this.fileUpload(this.state.image);\r\n    }\r\n    onChange(e) {\r\n      let files = e.target.files || e.dataTransfer.files;\r\n      if (!files.length)\r\n            return;\r\n      this.createImage(files[0]);\r\n    }\r\n    createImage(file) {\r\n      let reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        this.setState({\r\n          image: e.target.result\r\n        })\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n    fileUpload(image){\r\n      const url = 'http://localhost:8000/api/fileupload';\r\n      const formData = {file: this.state.image}\r\n      return  post(url, formData)\r\n              .then(response => console.log(response))\r\n    }\r\n  \r\n   render()\r\n   {\r\n      return(\r\n\r\n         <form onSubmit={this.onFormSubmit}>\r\n        <h1>React js Laravel File Upload Tutorial</h1>\r\n        <input type=\"file\"  onChange={this.onChange} />\r\n        <button type=\"submit\">Upload</button>\r\n      </form>\r\n      )\r\n   }\r\n}"]},"metadata":{},"sourceType":"module"}